<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Rogue: A Scala Type-Safe MongoDB DSL</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Clint Gibler">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
<link href='/assets/stylesheets/bootstrap.min-88238289010db19359d2181e634e95cd.css' type='text/css' rel='stylesheet' media='all'>
<link href='/assets/stylesheets/style-e81fa375b231bedf6cb2dbc6653570cc.css' type='text/css' rel='stylesheet' media='all'>
<link href='/assets/stylesheets/google_prettify/sons-of-obsidian-afb0925bfa2d994f17dab93e13fbf999.css' type='text/css' rel='stylesheet' media='all'>
    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="/">Clint Gibler</a>
          <ul class="nav">
              
                <li><a href="/about">About</a></li>
              
              
                <li><a href="/posts">Posts</a></li>
              
              
                <li><a href="/papers">Papers</a></li>
              
              
                <li><a href="/books">Books</a></li>
              
          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        
<div class="page-header">
  <h1>Rogue: A Scala Type-Safe MongoDB DSL </h1>
</div>

<div class="row-fluid post-full">
  <div class="span12">
    <div class="date">
      <span>2012-06-22</strong>
    </div>
    <div class="content">
      <p>Recently our group has been debating about switching to <a href="http://www.mongodb.org/">MongoDB</a>.
As a number of our analysis tools are written in Scala, naturally we&#39;d like a Scala or Java ORM.</p>

<p>After some search, we&#39;ve decided to explore Rogue, a type-safe DSL for querying MongoDB.
Here&#39;s some motivation from the Foursquare engineers for developing Rogue, after using Lift for their ORM:</p>

<blockquote>
<blockquote>
<p>Essentially, we found the querying support a bit too expressive — you can pass in a query object that doesn’t represent a valid
query, or query against fields that aren’t part of the record. And in addition it isn’t very type-safe.
You can ask for, say, all Venue records where mayor = “Bob”, and it happily executes that query for you, returning nothing,
never informing you that the mayor field is not a String but a Long representing the ID of the user.
Well, we thought we could use the Scala type system to prevent this from ever happening, and that’s what we set out to do.</p>
</blockquote>
</blockquote>

<p>The idea of compile-time query sanity checks is pretty neat. Unfortunately Rogue documentation is fairly sparse, though people are quite
  helpful on the mailing list and there is some example code I&#39;ve linked to below.</p>

<h2 id="toc_0">Links</h2>

<ul>
<li>Initial Foursquare blog posts about Rogue

<ul>
<li><a href="http://engineering.foursquare.com/2011/01/21/rogue-a-type-safe-scala-dsl-for-querying-mongodb/">Rogue: A Type-Safe Scala DSL for querying MongoDB</a></li>
<li><a href="http://engineering.foursquare.com/2011/01/31/going-rogue-part-2-phantom-types/">Going Rogue, Part 2: Phantom Types</a></li>
</ul></li>
<li><a href="https://github.com/foursquare/rogue">Rogue GitHub Page</a>

<ul>
<li><a href="https://github.com/foursquare/rogue/blob/master/src/test/scala/com/foursquare/rogue/TestModels.scala">Models examples</a></li>
<li><a href="https://github.com/foursquare/rogue/blob/master/src/test/scala/com/foursquare/rogue/QueryTest.scala">Query examples</a></li>
<li><a href="https://github.com/foursquare/rogue/blob/master/docs/Indexing.md">Indexing</a></li>
</ul></li>
<li><a href="http://www.assembla.com/spaces/liftweb/wiki/lift-mongodb-record">Lift-MongoDb-Record docs</a> -</li>
</ul>

<h2 id="toc_1">Troubleshooting</h2>

<p>Rogue&#39;s GitHub page recommends including the following in your build.sbt to use Rogue:</p>

<pre><code>val rogue = &quot;com.foursquare&quot; %% &quot;rogue&quot; % &quot;1.1.8&quot; intransitive()
val liftMongoRecord = &quot;net.liftweb&quot; %% &quot;lift-mongodb-record&quot; % &quot;2.4-M2&quot;
</code></pre>

<p>However, lift-mongodb-record version 2.4-M2 could not be resolved for me using scala 2.9.1 and sbt 0.11.2.
Using the &quot;-M4&quot; version enabled sbt to resolve it.</p>

<pre><code>val liftMongoRecord = &quot;net.liftweb&quot; %% &quot;lift-mongodb-record&quot; % &quot;2.4-M4&quot;
</code></pre>

    </div>
    <ul class="tag_box inline">
      <li><i class="icon-folder-open"></i></li>
      <li>
        <a href="/categories#programming-ref">programming <span>3</span></a>
      </li>
    </ul>
    <ul class="tag_box inline">
      <li><i class="icon-tags"></i></li>
      <li>
        <a href="/tags#scala-ref">scala <span>1</span></a>
      </li>
      <li>
        <a href="/tags#programming-ref">programming <span>7</span></a>
      </li>
      <li>
        <a href="/tags#mongodb-ref">mongodb <span>2</span></a>
      </li>
    </ul>
    <hr>
    <div class="pagination">
      <ul>
          <li class="prev"><a href="/posts/setting-up-mongodb-on-ubuntu-11-10" title="Setting Up MongoDB on Ubuntu 11.10">&larr; Previous</a></li>

          <li><a href="/archive">Archive</a></li>

          <li class="next disabled"><a>Next &rarr;</a>
      </ul>
    </div>
    <hr>
    <div id="disqus_thread"></div>
<script>
    var disqus_developer = 1;
    var disqus_shortname = 'clintgibler'; // required: replace example with your forum shortname
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

  </div>
</div>


      </div>

      <hr>
      <div class="footer">
        <p>&copy; Clint Gibler 2013
          with help from <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </div>

    </div> <!-- /container -->

    
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37489513-1']);
  _gaq.push(['_trackPageview']);
  

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>



  </body>
</html>
